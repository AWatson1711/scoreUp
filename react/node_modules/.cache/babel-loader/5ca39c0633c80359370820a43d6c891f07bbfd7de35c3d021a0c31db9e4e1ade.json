{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { getRequest } from \"../../api/api\";\nexport const getGamePlayed = token => async (dispatch, getState) => {\n  const loading = getState().gamesPlayed.loading;\n  if (loading) return;\n  dispatch(startLoading());\n  const {\n    status,\n    result,\n    error\n  } = await getRequest(`/gamesplayed`, token);\n  if (error) {\n    return console.log(status, error);\n  }\n  dispatch(setGamePlayed(result));\n};\nexport const getOneGamePlayed = createAsyncThunk(\"gamePlayed/getOne\", async (gameplayedId, thunkApi) => {\n  const {\n    fulfillWithValue,\n    rejectWithValue\n  } = thunkApi;\n  const {\n    status,\n    result,\n    error\n  } = await getRequest(`/gameplayed/${gameplayedId}`, token);\n  return error ? rejectWithValue(`Cannot get friend - Error status ${status} - ${error}`) : fulfillWithValue(result);\n});\nconst gamePlayedSlice = createSlice({\n  name: \"gamesPlayed\",\n  initialState: {\n    gamesPlayed: [],\n    loading: false\n  },\n  reducers: {\n    startLoading: state => {\n      return {\n        ...state,\n        loading: true\n      };\n    },\n    stopLoading: state => {\n      return {\n        ...state,\n        loading: false\n      };\n    },\n    setGamePlayed: (state, action) => {\n      return {\n        ...state,\n        loading: false,\n        gamesPlayed: [...action.payload.gamesPlayed]\n      };\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(getFriends.fulfilled, (state, action) => {\n      return {\n        ...state,\n        loading: false,\n        friends: action.payload.friends\n      };\n    }).addCase(getOneGamePlayed.fulfilled, (state, action) => {\n      return {\n        ...state,\n        loading: false,\n        gamesPlayed: [...action.payload.gamesPlayed]\n      };\n    }).addCase(getOneGamePlayed.rejected, (state, action) => {\n      return {\n        ...state,\n        loading: false,\n        error: action.payload\n      };\n    }).addCase(getOneGamePlayed.pending, (state, action) => {\n      return {\n        ...state,\n        loading: true\n      };\n    });\n  }\n});\nexport const {\n  startLoading,\n  stopLoading,\n  setGamePlayed\n} = gamePlayedSlice.actions;\nexport default gamePlayedSlice.reducer;","map":{"version":3,"names":["createSlice","getRequest","getGamePlayed","token","dispatch","getState","loading","gamesPlayed","startLoading","status","result","error","console","log","setGamePlayed","getOneGamePlayed","createAsyncThunk","gameplayedId","thunkApi","fulfillWithValue","rejectWithValue","gamePlayedSlice","name","initialState","reducers","state","stopLoading","action","payload","extraReducers","builder","addCase","getFriends","fulfilled","friends","rejected","pending","actions","reducer"],"sources":["/Users/watsonandrew/Desktop/scoreUp/react/src/redux/reducers/gamePlayed.slice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport { getRequest } from \"../../api/api\";\n\nexport const getGamePlayed = (token) => async (dispatch, getState) => {\n  const loading = getState().gamesPlayed.loading;\n  if (loading) return;\n  dispatch(startLoading());\n  const { status, result, error } = await getRequest(`/gamesplayed`, token);\n  if (error) {\n    return console.log(status, error);\n  }\n  dispatch(setGamePlayed(result));\n};\n\nexport const getOneGamePlayed = createAsyncThunk(\n  \"gamePlayed/getOne\",\n  async (gameplayedId, thunkApi) => {\n    const { fulfillWithValue, rejectWithValue } = thunkApi;\n    const { status, result, error } = await getRequest(\n      `/gameplayed/${gameplayedId}`,\n      token,\n    );\n    return error\n      ? rejectWithValue(`Cannot get friend - Error status ${status} - ${error}`)\n      : fulfillWithValue(result);\n  },\n);\n\nconst gamePlayedSlice = createSlice({\n  name: \"gamesPlayed\",\n  initialState: {\n    gamesPlayed: [],\n    loading: false,\n  },\n  reducers: {\n    startLoading: (state) => {\n      return { ...state, loading: true };\n    },\n    stopLoading: (state) => {\n      return { ...state, loading: false };\n    },\n    setGamePlayed: (state, action) => {\n      return {\n        ...state,\n        loading: false,\n        gamesPlayed: [...action.payload.gamesPlayed],\n      };\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(getFriends.fulfilled, (state, action) => {\n        return {\n          ...state,\n          loading: false,\n          friends: action.payload.friends,\n        };\n      })\n      .addCase(getOneGamePlayed.fulfilled, (state, action) => {\n        return {\n          ...state,\n          loading: false,\n          gamesPlayed: [...action.payload.gamesPlayed],\n        };\n      })\n      .addCase(getOneGamePlayed.rejected, (state, action) => {\n        return { ...state, loading: false, error: action.payload };\n      })\n      .addCase(getOneGamePlayed.pending, (state, action) => {\n        return { ...state, loading: true };\n      });\n  },\n});\n\nexport const { startLoading, stopLoading, setGamePlayed } =\n  gamePlayedSlice.actions;\n\nexport default gamePlayedSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}