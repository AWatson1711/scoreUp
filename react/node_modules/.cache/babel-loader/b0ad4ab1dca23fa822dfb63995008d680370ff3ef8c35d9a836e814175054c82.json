{"ast":null,"code":"import { postRequest } from \"../../api/api\";\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport { setItem } from \"../../utils/storage.utils\";\nexport const signUp = (redirect, _ref) => {\n  let {\n    name,\n    firstname,\n    email,\n    number,\n    password\n  } = _ref;\n  return async (dispatch, getState) => {\n    const loading = getState().user.loading;\n    if (loading) return;\n    dispatch(startLoading());\n    const {\n      status,\n      result,\n      error\n    } = await postRequest(`/users/sign-up`, {\n      name,\n      firstname,\n      email,\n      number,\n      password\n    });\n    console.log(status, error, result);\n    if (status === 200) {\n      setItem(\"token\", result.token);\n      redirect();\n    }\n    dispatch(stopLoading());\n  };\n};\nexport const userSlice = createSlice({\n  name: \"user\",\n  initialState: {\n    name: \"\",\n    firstname: \"\",\n    email: \"\",\n    number: \"\",\n    password: \"\",\n    loading: false\n  },\n  reducers: {\n    startLoading: state => {\n      return {\n        ...state,\n        loading: true\n      };\n    },\n    stopLoading: state => {\n      return {\n        ...state,\n        loading: false\n      };\n    },\n    updateUser: (state, action) => {\n      const {\n        key,\n        value\n      } = action.payload;\n      return {\n        ...state,\n        [key]: value\n      };\n      // state[key] = value;\n    }\n  }\n});\n\nexport const {\n  startLoading,\n  stopLoading,\n  updateUser\n} = userSlice.actions;\nexport default userSlice.reducer;","map":{"version":3,"names":["postRequest","createSlice","setItem","signUp","redirect","name","firstname","email","number","password","dispatch","getState","loading","user","startLoading","status","result","error","console","log","token","stopLoading","userSlice","initialState","reducers","state","updateUser","action","key","value","payload","actions","reducer"],"sources":["/Users/watsonandrew/Desktop/scoreUp/react/src/redux/reducers/user.slice.js"],"sourcesContent":["import { postRequest } from \"../../api/api\";\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport { setItem } from \"../../utils/storage.utils\";\n\nexport const signUp =\n  (redirect, { name, firstname, email, number, password }) =>\n  async (dispatch, getState) => {\n    const loading = getState().user.loading;\n    if (loading) return;\n    dispatch(startLoading());\n    const { status, result, error } = await postRequest(`/users/sign-up`, {\n      name,\n      firstname,\n      email,\n      number,\n      password,\n    });\n    console.log(status, error, result);\n    if (status === 200) {\n      setItem(\"token\", result.token);\n      redirect();\n    }\n    dispatch(stopLoading());\n  };\n\nexport const userSlice = createSlice({\n  name: \"user\",\n  initialState: {\n    name: \"\",\n    firstname: \"\",\n    email: \"\",\n    number: \"\",\n    password: \"\",\n    loading: false,\n  },\n  reducers: {\n    startLoading: (state) => {\n      return { ...state, loading: true };\n    },\n    stopLoading: (state) => {\n      return { ...state, loading: false };\n    },\n    updateUser: (state, action) => {\n      const { key, value } = action.payload;\n      return { ...state, [key]: value };\n      // state[key] = value;\n    },\n  },\n});\n\nexport const { startLoading, stopLoading, updateUser } = userSlice.actions;\nexport default userSlice.reducer;\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,eAAe;AAC3C,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,OAAO,QAAQ,2BAA2B;AAEnD,OAAO,MAAMC,MAAM,GACjB,CAACC,QAAQ;EAAA,IAAE;IAAEC,IAAI;IAAEC,SAAS;IAAEC,KAAK;IAAEC,MAAM;IAAEC;EAAS,CAAC;EAAA,OACvD,OAAOC,QAAQ,EAAEC,QAAQ,KAAK;IAC5B,MAAMC,OAAO,GAAGD,QAAQ,EAAE,CAACE,IAAI,CAACD,OAAO;IACvC,IAAIA,OAAO,EAAE;IACbF,QAAQ,CAACI,YAAY,EAAE,CAAC;IACxB,MAAM;MAAEC,MAAM;MAAEC,MAAM;MAAEC;IAAM,CAAC,GAAG,MAAMjB,WAAW,CAAE,gBAAe,EAAE;MACpEK,IAAI;MACJC,SAAS;MACTC,KAAK;MACLC,MAAM;MACNC;IACF,CAAC,CAAC;IACFS,OAAO,CAACC,GAAG,CAACJ,MAAM,EAAEE,KAAK,EAAED,MAAM,CAAC;IAClC,IAAID,MAAM,KAAK,GAAG,EAAE;MAClBb,OAAO,CAAC,OAAO,EAAEc,MAAM,CAACI,KAAK,CAAC;MAC9BhB,QAAQ,EAAE;IACZ;IACAM,QAAQ,CAACW,WAAW,EAAE,CAAC;EACzB,CAAC;AAAA;AAEH,OAAO,MAAMC,SAAS,GAAGrB,WAAW,CAAC;EACnCI,IAAI,EAAE,MAAM;EACZkB,YAAY,EAAE;IACZlB,IAAI,EAAE,EAAE;IACRC,SAAS,EAAE,EAAE;IACbC,KAAK,EAAE,EAAE;IACTC,MAAM,EAAE,EAAE;IACVC,QAAQ,EAAE,EAAE;IACZG,OAAO,EAAE;EACX,CAAC;EACDY,QAAQ,EAAE;IACRV,YAAY,EAAGW,KAAK,IAAK;MACvB,OAAO;QAAE,GAAGA,KAAK;QAAEb,OAAO,EAAE;MAAK,CAAC;IACpC,CAAC;IACDS,WAAW,EAAGI,KAAK,IAAK;MACtB,OAAO;QAAE,GAAGA,KAAK;QAAEb,OAAO,EAAE;MAAM,CAAC;IACrC,CAAC;IACDc,UAAU,EAAE,CAACD,KAAK,EAAEE,MAAM,KAAK;MAC7B,MAAM;QAAEC,GAAG;QAAEC;MAAM,CAAC,GAAGF,MAAM,CAACG,OAAO;MACrC,OAAO;QAAE,GAAGL,KAAK;QAAE,CAACG,GAAG,GAAGC;MAAM,CAAC;MACjC;IACF;EACF;AACF,CAAC,CAAC;;AAEF,OAAO,MAAM;EAAEf,YAAY;EAAEO,WAAW;EAAEK;AAAW,CAAC,GAAGJ,SAAS,CAACS,OAAO;AAC1E,eAAeT,SAAS,CAACU,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}